{"version":3,"file":"area.test.js","sourceRoot":"","sources":["../../../../test/compile/mark/area.test.ts"],"names":[],"mappings":"AAAA,8BAA8B;;AAE9B,OAAO,EAAC,MAAM,EAAC,MAAM,MAAM,CAAC;AAC5B,OAAO,EAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAC,MAAM,sBAAsB,CAAC;AACjD,OAAO,EAAC,IAAI,EAAC,MAAM,gCAAgC,CAAC;AAGpD,OAAO,EAAC,oCAAoC,EAAC,MAAM,YAAY,CAAC;AAEhE,QAAQ,CAAC,YAAY,EAAE;IACrB,sBAAsB,YAAmC;QAAnC,6BAAA,EAAA,iBAAmC;QACvD,OAAO;YACL,IAAI,EAAE,MAAM;YACZ,QAAQ,qBACN,CAAC,EAAE,EAAC,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAC,EACtD,CAAC,EAAE,EAAC,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,cAAc,EAAC,IAC1C,YAAY,CAChB;YACD,IAAI,EAAE,EAAC,GAAG,EAAE,gBAAgB,EAAC;SAC9B,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,yBAAyB,EAAE;QAClC,IAAM,KAAK,GAAG,oCAAoC,CAAC;YACjD,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE;gBACR,CAAC,EAAE,EAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,aAAa,EAAC;gBAC1D,CAAC,EAAE,EAAC,KAAK,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAC;aACtF;YACD,IAAI,EAAE,EAAC,GAAG,EAAE,kBAAkB,EAAC;SAChC,CAAC,CAAC;QACH,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,oBAAoB,EAAE;YACvB,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,QAAQ,EAAC,EAAC,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sBAAsB,EAAE;YACzB,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,8CAA8C,EAAE;QACvD,IAAM,KAAK,GAAG,oCAAoC,CAAC;YACjD,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE;gBACR,CAAC,EAAE,EAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,aAAa,EAAC;gBAC1D,CAAC,EAAE,EAAC,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,EAAC;gBAC9D,KAAK,EAAE,EAAC,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAC;aACrC;YACD,IAAI,EAAE,EAAC,GAAG,EAAE,kBAAkB,EAAC;SAChC,CAAC,CAAC;QACH,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,0BAA0B,EAAE;YAC7B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,gCAAgC,EAAE,KAAK,EAAE,GAAG,EAAC,CAAC,CAAC;QACnF,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,gCAAgC,EAAE;QACzC,IAAM,KAAK,GAAG,oCAAoC,CAAC;YACjD,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE;gBACR,CAAC,EAAE,EAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,aAAa,EAAC;gBAC1D,CAAC,EAAE,EAAC,KAAK,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAC;aACtF;YACD,IAAI,EAAE,EAAC,GAAG,EAAE,kBAAkB,EAAC;SAChC,CAAC,CAAC;QACH,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,oBAAoB,EAAE;YACvB,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,QAAQ,EAAC,EAAC,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sBAAsB,EAAE;YACzB,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,eAAe,EAAE;QACxB,IAAM,KAAK,GAAG,oCAAoC,CAAC,YAAY,EAAE,CAAC,CAAC;QACnE,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,yBAAyB,EAAE;YAC5B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,WAAW,EAAC,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yBAAyB,EAAE;YAC5B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,EAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sCAAsC,EAAE;YACzC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,qCAAqC,EAAE;QAC9C,IAAM,KAAK,GAAG,oCAAoC,CAAC,YAAY,EAAE,CAAC,CAAC;QACnE,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,yBAAyB,EAAE;YAC5B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,WAAW,EAAC,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yBAAyB,EAAE;YAC5B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,EAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sCAAsC,EAAE;YACzC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,kCAAkC,EAAE;QAC3C,IAAM,KAAK,GAAG,oCAAoC,CAChD,YAAY,CAAC;YACX,KAAK,EAAE,EAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,cAAc,EAAC;SAC/C,CAAC,CACH,CAAC;QAEF,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,4CAA4C,EAAE;YAC/C,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,aAAa,EAAC,CAAC,CAAC;YAC9D,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,eAAe,EAAC,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4BAA4B,EAAE;YAC/B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,EAAC,KAAK,EAAE,UAAU,EAAC,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6BAA6B,EAAE;YAChC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,wBAAwB,YAAmC;QAAnC,6BAAA,EAAA,iBAAmC;QACzD,OAAO;YACL,IAAI,EAAE,MAAM;YACZ,QAAQ,qBACN,CAAC,EAAE,EAAC,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAC,EACtD,CAAC,EAAE,EAAC,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,cAAc,EAAC,IAC1C,YAAY,CAChB;YACD,IAAI,EAAE,EAAC,GAAG,EAAE,gBAAgB,EAAC;SAC9B,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,iBAAiB,EAAE;QAC1B,IAAM,KAAK,GAAG,oCAAoC,CAAC,cAAc,EAAE,CAAC,CAAC;QACrE,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,yBAAyB,EAAE;YAC5B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,WAAW,EAAC,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yBAAyB,EAAE;YAC5B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,EAAC,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sCAAsC,EAAE;YACzC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,2BAA2B,EAAE;QACpC,IAAM,KAAK,GAAG,oCAAoC,CAAC;YACjD,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE;gBACR,CAAC,EAAE,EAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,aAAa,EAAC;gBAC1D,CAAC,EAAE,EAAC,KAAK,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAC;aACtF;YACD,IAAI,EAAE,EAAC,GAAG,EAAE,kBAAkB,EAAC;SAChC,CAAC,CAAC;QAEH,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,oBAAoB,EAAE;YACvB,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sBAAsB,EAAE;YACzB,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,kCAAkC,EAAE;QAC3C,IAAM,KAAK,GAAG,oCAAoC,CAAC;YACjD,IAAI,EAAE,MAAM;YACZ,QAAQ,EAAE;gBACR,CAAC,EAAE,EAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,aAAa,EAAC;gBAC1D,CAAC,EAAE,EAAC,KAAK,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAC;aACtF;YACD,IAAI,EAAE,EAAC,GAAG,EAAE,kBAAkB,EAAC;SAChC,CAAC,CAAC;QAEH,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,oBAAoB,EAAE;YACvB,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sBAAsB,EAAE;YACzB,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,oCAAoC,EAAE;QAC7C,IAAM,KAAK,GAAG,oCAAoC,CAChD,cAAc,CAAC;YACb,KAAK,EAAE,EAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAC;SAC1C,CAAC,CACH,CAAC;QAEF,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,4CAA4C,EAAE;YAC/C,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,aAAa,EAAC,CAAC,CAAC;YAC9D,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,eAAe,EAAC,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4BAA4B,EAAE;YAC/B,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,EAAC,KAAK,EAAE,YAAY,EAAC,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6BAA6B,EAAE;YAChC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,aAAa,EAAE;QACtB,EAAE,CAAC,0CAA0C,EAAE;YAC7C,IAAM,KAAK,GAAG,oCAAoC,CAAC;gBACjD,IAAI,EAAE,EAAC,GAAG,EAAE,gBAAgB,EAAC;gBAC7B,IAAI,EAAE,MAAM;gBACZ,QAAQ,EAAE;oBACR,CAAC,EAAE,EAAC,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAC;oBACtD,CAAC,EAAE,EAAC,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,cAAc,EAAC;oBACnE,EAAE,EAAE,EAAC,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,cAAc,EAAC;iBACrE;aACF,CAAC,CAAC;YACH,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACtC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,WAAW,EAAC,CAAC,CAAC;YAC5D,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,mBAAmB,EAAC,CAAC,CAAC;YACpE,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,mBAAmB,EAAC,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4CAA4C,EAAE;YAC/C,IAAM,KAAK,GAAG,oCAAoC,CAAC;gBACjD,IAAI,EAAE,EAAC,GAAG,EAAE,gBAAgB,EAAC;gBAC7B,IAAI,EAAE,MAAM;gBACZ,QAAQ,EAAE;oBACR,CAAC,EAAE,EAAC,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAC;oBACtD,CAAC,EAAE,EAAC,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,cAAc,EAAC;oBACnE,EAAE,EAAE,EAAC,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,cAAc,EAAC;iBACrE;aACF,CAAC,CAAC;YACH,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACtC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,WAAW,EAAC,CAAC,CAAC;YAC5D,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,mBAAmB,EAAC,CAAC,CAAC;YACpE,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,mBAAmB,EAAC,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/* tslint:disable quotemark */\n\nimport {assert} from 'chai';\nimport {COLOR, X, Y} from '../../../src/channel';\nimport {area} from '../../../src/compile/mark/area';\nimport {Encoding} from '../../../src/encoding';\nimport {NormalizedUnitSpec} from '../../../src/spec';\nimport {parseUnitModelWithScaleAndLayoutSize} from '../../util';\n\ndescribe('Mark: Area', () => {\n  function verticalArea(moreEncoding: Encoding<string> = {}): NormalizedUnitSpec {\n    return {\n      mark: 'area',\n      encoding: {\n        x: {timeUnit: 'year', field: 'Year', type: 'temporal'},\n        y: {aggregate: 'count', type: 'quantitative'},\n        ...moreEncoding\n      },\n      data: {url: 'data/cars.json'}\n    };\n  }\n\n  describe('vertical area, with log', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize({\n      mark: 'area',\n      encoding: {\n        x: {bin: true, type: 'quantitative', field: 'IMDB_Rating'},\n        y: {scale: {type: 'log'}, type: 'quantitative', field: 'US_Gross', aggregate: 'mean'}\n      },\n      data: {url: 'data/movies.json'}\n    });\n    const props = area.encodeEntry(model);\n\n    it('should end on axis', () => {\n      assert.deepEqual(props.y2, {field: {group: 'height'}});\n    });\n\n    it('should has no height', () => {\n      assert.isUndefined(props.height);\n    });\n  });\n\n  describe('stacked vertical area, with binned dimension', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize({\n      mark: 'area',\n      encoding: {\n        x: {bin: true, type: 'quantitative', field: 'IMDB_Rating'},\n        y: {type: 'quantitative', field: 'US_Gross', aggregate: 'sum'},\n        color: {type: 'nominal', field: 'c'}\n      },\n      data: {url: 'data/movies.json'}\n    });\n    const props = area.encodeEntry(model);\n\n    it('should use bin_mid for x', () => {\n      assert.deepEqual(props.x, {field: 'bin_maxbins_10_IMDB_Rating_mid', scale: 'x'});\n    });\n  });\n\n  describe('vertical area, with zero=false', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize({\n      mark: 'area',\n      encoding: {\n        x: {bin: true, type: 'quantitative', field: 'IMDB_Rating'},\n        y: {scale: {zero: false}, type: 'quantitative', field: 'US_Gross', aggregate: 'mean'}\n      },\n      data: {url: 'data/movies.json'}\n    });\n    const props = area.encodeEntry(model);\n\n    it('should end on axis', () => {\n      assert.deepEqual(props.y2, {field: {group: 'height'}});\n    });\n\n    it('should has no height', () => {\n      assert.isUndefined(props.height);\n    });\n  });\n\n  describe('vertical area', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize(verticalArea());\n    const props = area.encodeEntry(model);\n\n    it('should have scale for x', () => {\n      assert.deepEqual(props.x, {scale: X, field: 'year_Year'});\n    });\n\n    it('should have scale for y', () => {\n      assert.deepEqual(props.y, {scale: Y, field: 'count_*'});\n    });\n\n    it('should have the correct value for y2', () => {\n      assert.deepEqual(props.y2, {scale: 'y', value: 0});\n    });\n  });\n\n  describe('vertical area with binned dimension', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize(verticalArea());\n    const props = area.encodeEntry(model);\n\n    it('should have scale for x', () => {\n      assert.deepEqual(props.x, {scale: X, field: 'year_Year'});\n    });\n\n    it('should have scale for y', () => {\n      assert.deepEqual(props.y, {scale: Y, field: 'count_*'});\n    });\n\n    it('should have the correct value for y2', () => {\n      assert.deepEqual(props.y2, {scale: 'y', value: 0});\n    });\n  });\n\n  describe('vertical stacked area with color', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize(\n      verticalArea({\n        color: {field: 'Origin', type: 'quantitative'}\n      })\n    );\n\n    const props = area.encodeEntry(model);\n\n    it('should have the correct value for y and y2', () => {\n      assert.deepEqual(props.y, {scale: 'y', field: 'count_*_end'});\n      assert.deepEqual(props.y2, {scale: 'y', field: 'count_*_start'});\n    });\n\n    it('should have correct orient', () => {\n      assert.deepEqual(props.orient, {value: 'vertical'});\n    });\n\n    it('should have scale for color', () => {\n      assert.deepEqual(props.fill, {scale: COLOR, field: 'Origin'});\n    });\n  });\n\n  function horizontalArea(moreEncoding: Encoding<string> = {}): NormalizedUnitSpec {\n    return {\n      mark: 'area',\n      encoding: {\n        y: {timeUnit: 'year', field: 'Year', type: 'temporal'},\n        x: {aggregate: 'count', type: 'quantitative'},\n        ...moreEncoding\n      },\n      data: {url: 'data/cars.json'}\n    };\n  }\n\n  describe('horizontal area', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize(horizontalArea());\n    const props = area.encodeEntry(model);\n\n    it('should have scale for y', () => {\n      assert.deepEqual(props.y, {scale: Y, field: 'year_Year'});\n    });\n\n    it('should have scale for x', () => {\n      assert.deepEqual(props.x, {scale: X, field: 'count_*'});\n    });\n\n    it('should have the correct value for x2', () => {\n      assert.deepEqual(props.x2, {scale: 'x', value: 0});\n    });\n  });\n\n  describe('horizontal area, with log', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize({\n      mark: 'area',\n      encoding: {\n        y: {bin: true, type: 'quantitative', field: 'IMDB_Rating'},\n        x: {scale: {type: 'log'}, type: 'quantitative', field: 'US_Gross', aggregate: 'mean'}\n      },\n      data: {url: 'data/movies.json'}\n    });\n\n    const props = area.encodeEntry(model);\n\n    it('should end on axis', () => {\n      assert.deepEqual(props.x2, {value: 0});\n    });\n\n    it('should have no width', () => {\n      assert.isUndefined(props.width);\n    });\n  });\n\n  describe('horizontal area, with zero=false', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize({\n      mark: 'area',\n      encoding: {\n        y: {bin: true, type: 'quantitative', field: 'IMDB_Rating'},\n        x: {scale: {zero: false}, type: 'quantitative', field: 'US_Gross', aggregate: 'mean'}\n      },\n      data: {url: 'data/movies.json'}\n    });\n\n    const props = area.encodeEntry(model);\n\n    it('should end on axis', () => {\n      assert.deepEqual(props.x2, {value: 0});\n    });\n\n    it('should have no width', () => {\n      assert.isUndefined(props.width);\n    });\n  });\n\n  describe('horizontal stacked area with color', () => {\n    const model = parseUnitModelWithScaleAndLayoutSize(\n      horizontalArea({\n        color: {field: 'Origin', type: 'nominal'}\n      })\n    );\n\n    const props = area.encodeEntry(model);\n\n    it('should have the correct value for x and x2', () => {\n      assert.deepEqual(props.x, {scale: 'x', field: 'count_*_end'});\n      assert.deepEqual(props.x2, {scale: 'x', field: 'count_*_start'});\n    });\n\n    it('should have correct orient', () => {\n      assert.deepEqual(props.orient, {value: 'horizontal'});\n    });\n\n    it('should have scale for color', () => {\n      assert.deepEqual(props.fill, {scale: COLOR, field: 'Origin'});\n    });\n  });\n\n  describe('ranged area', () => {\n    it('vertical area should work with aggregate', () => {\n      const model = parseUnitModelWithScaleAndLayoutSize({\n        data: {url: 'data/cars.json'},\n        mark: 'area',\n        encoding: {\n          x: {timeUnit: 'year', field: 'Year', type: 'temporal'},\n          y: {aggregate: 'min', field: 'Weight_in_lbs', type: 'quantitative'},\n          y2: {aggregate: 'max', field: 'Weight_in_lbs', type: 'quantitative'}\n        }\n      });\n      const props = area.encodeEntry(model);\n      assert.deepEqual(props.x, {scale: 'x', field: 'year_Year'});\n      assert.deepEqual(props.y, {scale: 'y', field: 'min_Weight_in_lbs'});\n      assert.deepEqual(props.y2, {scale: 'y', field: 'max_Weight_in_lbs'});\n    });\n\n    it('horizontal area should work with aggregate', () => {\n      const model = parseUnitModelWithScaleAndLayoutSize({\n        data: {url: 'data/cars.json'},\n        mark: 'area',\n        encoding: {\n          y: {timeUnit: 'year', field: 'Year', type: 'temporal'},\n          x: {aggregate: 'min', field: 'Weight_in_lbs', type: 'quantitative'},\n          x2: {aggregate: 'max', field: 'Weight_in_lbs', type: 'quantitative'}\n        }\n      });\n      const props = area.encodeEntry(model);\n      assert.deepEqual(props.y, {scale: 'y', field: 'year_Year'});\n      assert.deepEqual(props.x, {scale: 'x', field: 'min_Weight_in_lbs'});\n      assert.deepEqual(props.x2, {scale: 'x', field: 'max_Weight_in_lbs'});\n    });\n  });\n});\n"]}