{"version":3,"file":"util.js","sourceRoot":"","sources":["../../test-runtime/util.ts"],"names":[],"mappings":";;;AAAA,+BAA+B;AAC/B,6CAAyB;AACzB,iCAAsC;AACtC,uCAAsC;AAIzB,QAAA,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC;AACzC,QAAA,MAAM,GAAG,wBAAwB,CAAC;AAGlC,QAAA,cAAc,GAAoB,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;AAClE,QAAA,cAAc,GAAkB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AACpD,QAAA,WAAW,GAA0B,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;AAE5D,QAAA,KAAK,GAAG,OAAO,CAAC;AAChB,QAAA,OAAO,GAAG,SAAS,CAAC;AAEpB,QAAA,MAAM,GAAG;IACpB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAC;IACnB,EAAC,CAAC,EAAE,CA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","sourcesContent":["// import {assert} from 'chai';\nimport * as fs from 'fs';\nimport {sync as mkdirp} from 'mkdirp';\nimport {stringValue} from 'vega-util';\nimport {SelectionResolution, SelectionType} from '../src/selection';\nimport {NormalizedLayerSpec, NormalizedUnitSpec, TopLevelSpec} from '../src/spec';\n\nexport const generate = process.env.VL_GENERATE_TESTS;\nexport const output = 'test-runtime/resources';\n\nexport type ComposeType = 'unit' | 'repeat' | 'facet';\nexport const selectionTypes: SelectionType[] = ['single', 'multi', 'interval'];\nexport const compositeTypes: ComposeType[] = ['repeat', 'facet'];\nexport const resolutions: SelectionResolution[] = ['union', 'intersect'];\n\nexport const bound = 'bound';\nexport const unbound = 'unbound';\n\nexport const tuples = [\n  {a: 0, b: 28, c: 0},\n  {a: 0, b: 55, c: 1},\n  {a: 0, b: 23, c: 2},\n  {a: 1, b: 43, c: 0},\n  {a: 1, b: 91, c: 1},\n  {a: 1, b: 54, c: 2},\n  {a: 2, b: 81, c: 0},\n  {a: 2, b: 53, c: 1},\n  {a: 2, b: 76, c: 2},\n  {a: 3, b: 19, c: 0},\n  {a: 3, b: 87, c: 1},\n  {a: 3, b: 12, c: 2},\n  {a: 4, b: 52, c: 0},\n  {a: 4, b: 48, c: 1},\n  {a: 4, b: 35, c: 2},\n  {a: 5, b: 24, c: 0},\n  {a: 5, b: 49, c: 1},\n  {a: 5, b: 48, c: 2},\n  {a: 6, b: 87, c: 0},\n  {a: 6, b: 66, c: 1},\n  {a: 6, b: 23, c: 2},\n  {a: 7, b: 17, c: 0},\n  {a: 7, b: 27, c: 1},\n  {a: 7, b: 39, c: 2},\n  {a: 8, b: 68, c: 0},\n  {a: 8, b: 16, c: 1},\n  {a: 8, b: 67, c: 2},\n  {a: 9, b: 49, c: 0},\n  {a: 9, b: 15, c: 1},\n  {a: 9, b: 48, c: 2}\n];\n\nconst unitNames = {\n  repeat: ['child_d', 'child_e', 'child_f'],\n  facet: ['child_0', 'child_1', 'child_2']\n};\n\nexport const hits = {\n  discrete: {\n    qq: [8, 19],\n    qq_clear: [5, 16],\n\n    bins: [4, 29],\n    bins_clear: [18, 7],\n\n    repeat: [5, 10, 17],\n    repeat_clear: [13, 14, 2],\n\n    facet: [2, 6, 9],\n    facet_clear: [3, 4, 8]\n  },\n\n  interval: {\n    drag: [[5, 14], [18, 26]],\n    drag_clear: [[5], [16]],\n    translate: [[6, 16], [24, 8]],\n\n    bins: [[4, 8], [2, 7]],\n    bins_clear: [[5], [9]],\n    bins_translate: [[5, 7], [1, 8]],\n\n    repeat: [[8, 29], [11, 26], [7, 21]],\n    repeat_clear: [[8], [11], [17]],\n\n    facet: [[1, 9], [2, 8], [4, 10]],\n    facet_clear: [[3], [5], [7]]\n  }\n};\n\nfunction base(iter: number, sel: any, opts: any = {}): NormalizedUnitSpec | NormalizedLayerSpec {\n  const data = {values: opts.values || tuples};\n  const x = {field: 'a', type: 'quantitative', ...opts.x};\n  const y = {field: 'b', type: 'quantitative', ...opts.y};\n  const color = {field: 'c', type: 'nominal', ...opts.color};\n  const size = {value: 100, ...opts.size};\n  const selection = {sel};\n  const mark = 'circle';\n\n  return iter % 2 === 0\n    ? {\n        data,\n        selection,\n        mark,\n        encoding: {\n          x,\n          y,\n          size,\n          color: {\n            condition: {selection: 'sel', ...color},\n            value: 'grey'\n          }\n        }\n      }\n    : {\n        data,\n        layer: [\n          {\n            selection,\n            mark,\n            encoding: {\n              x,\n              y,\n              size,\n              color,\n              opacity: {value: 0.25}\n            }\n          },\n          {\n            transform: [{filter: {selection: 'sel'}}],\n            mark,\n            encoding: {x, y, size, color}\n          }\n        ]\n      };\n}\n\nexport function spec(compose: ComposeType, iter: number, sel: any, opts: any = {}): TopLevelSpec {\n  const {data, ...specification} = base(iter, sel, opts);\n  const resolve = opts.resolve;\n  switch (compose) {\n    case 'unit':\n      return {data, ...specification};\n    case 'facet':\n      return {\n        data,\n        facet: {row: {field: 'c', type: 'nominal'}},\n        spec: specification,\n        resolve\n      };\n    case 'repeat':\n      return {\n        data,\n        repeat: {row: ['d', 'e', 'f']},\n        spec: specification,\n        resolve\n      };\n  }\n\n  return null;\n}\n\nexport function unitNameRegex(specType: ComposeType, idx: number) {\n  const name = unitNames[specType][idx].replace('child_', '');\n  return new RegExp(`child(.*?)_${name}`);\n}\n\nexport function parentSelector(compositeType: ComposeType, index: number) {\n  return compositeType === 'facet' ? `cell > g:nth-child(${index + 1})` : unitNames.repeat[index] + '_group';\n}\n\nexport function brush(key: string, idx: number, parent?: string, targetBrush?: boolean) {\n  const fn = key.match('_clear') ? 'clear' : 'brush';\n  return `return ${fn}(${hits.interval[key][idx].join(', ')}, ${stringValue(parent)}, ${!!targetBrush})`;\n}\n\nexport function pt(key: string, idx: number, parent?: string) {\n  const fn = key.match('_clear') ? 'clear' : 'pt';\n  return `return ${fn}(${hits.discrete[key][idx]}, ${stringValue(parent)})`;\n}\n\nexport function embedFn(browser: WebdriverIO.Client<void>) {\n  return (specification: TopLevelSpec) => {\n    browser.execute(_ => window['embed'](_), specification);\n  };\n}\n\nexport function svg(browser: WebdriverIO.Client<void>, path: string, filename: string) {\n  const xml = browser.executeAsync(done => {\n    window['view'].runAfter((view: any) => view.toSVG().then((_: string) => done(_)));\n  });\n\n  if (generate) {\n    mkdirp((path = `${output}/${path}`));\n    fs.writeFileSync(`${path}/${filename}.svg`, xml.value);\n  }\n\n  return xml.value;\n}\n\nexport function testRenderFn(browser: WebdriverIO.Client<void>, path: string) {\n  return (filename: string) => {\n    // const render =\n    svg(browser, path, filename);\n    // const file = fs.readFileSync(`${output}/${path}/${filename}.svg`);\n    // assert.equal(render, file);\n  };\n}\n"]}