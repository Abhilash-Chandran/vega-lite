{"version":3,"file":"util.js","sourceRoot":"","sources":["../../test/util.ts"],"names":[],"mappings":"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","sourcesContent":["import {buildModel} from '../src/compile/buildmodel';\nimport {ConcatModel} from '../src/compile/concat';\nimport {FacetModel} from '../src/compile/facet';\nimport {LayerModel} from '../src/compile/layer';\nimport {Model} from '../src/compile/model';\nimport {RepeatModel} from '../src/compile/repeat';\nimport {UnitModel} from '../src/compile/unit';\nimport {initConfig} from '../src/config';\nimport {\n  normalize,\n  NormalizedConcatSpec,\n  NormalizedFacetSpec,\n  NormalizedLayerSpec,\n  NormalizedRepeatSpec,\n  NormalizedUnitSpec,\n  TopLevel,\n  TopLevelSpec,\n} from '../src/spec';\nimport {isLayerSpec, isUnitSpec} from '../src/spec';\nimport {normalizeAutoSize} from '../src/toplevelprops';\n\nexport function parseModel(inputSpec: TopLevelSpec): Model {\n  const config = initConfig(inputSpec.config);\n  const spec = normalize(inputSpec, config);\n  const autosize = normalizeAutoSize(inputSpec.autosize, config.autosize, isLayerSpec(spec) || isUnitSpec(spec));\n  return buildModel(spec, null, '', undefined, undefined, config, autosize.type === 'fit');\n}\n\nexport function parseModelWithScale(inputSpec: TopLevelSpec): Model {\n  const model = parseModel(inputSpec);\n  model.parseScale();\n  return model;\n}\n\nexport function parseUnitModel(spec: TopLevel<NormalizedUnitSpec>) {\n  return new UnitModel(spec, null, '', undefined, undefined, initConfig(spec.config), normalizeAutoSize(spec.autosize, spec.config ? spec.config.autosize : undefined, true).type === 'fit');\n}\n\nexport function parseUnitModelWithScale(spec: TopLevel<NormalizedUnitSpec>) {\n  const model = parseUnitModel(spec);\n  model.parseScale();\n  return model;\n}\n\nexport function parseUnitModelWithScaleAndLayoutSize(spec: TopLevel<NormalizedUnitSpec>) {\n  const model = parseUnitModelWithScale(spec);\n  model.parseLayoutSize();\n  return model;\n}\n\n\nexport function parseLayerModel(spec: TopLevel<NormalizedLayerSpec>) {\n  return new LayerModel(spec, null, '', undefined, undefined, initConfig(spec.config), normalizeAutoSize(spec.autosize, spec.config ? spec.config.autosize : undefined, true).type === 'fit');\n}\n\nexport function parseFacetModel(spec: TopLevel<NormalizedFacetSpec>) {\n  return new FacetModel(spec, null, '', undefined, initConfig(spec.config));\n}\n\nexport function parseFacetModelWithScale(spec: TopLevel<NormalizedFacetSpec>) {\n  const model = parseFacetModel(spec);\n  model.parseScale();\n  return model;\n}\n\nexport function parseRepeatModel(spec: TopLevel<NormalizedRepeatSpec>) {\n  return new RepeatModel(spec, null, '', undefined, initConfig(spec.config));\n}\n\nexport function parseConcatModel(spec: TopLevel<NormalizedConcatSpec>) {\n  return new ConcatModel(spec, null, '', undefined, initConfig(spec.config));\n}\n"]}