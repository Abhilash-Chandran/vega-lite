{"version":3,"file":"expressions.test.js","sourceRoot":"","sources":["../../../../test/compile/data/expressions.test.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,kBAAkB,EAAC,MAAM,uCAAuC,CAAC;AAEzE,QAAQ,CAAC,0BAA0B,EAAE;IACnC,QAAQ,CAAC,oBAAoB,EAAE;QAC7B,EAAE,CAAC,wDAAwD,EAAE;YAC3D,MAAM,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,CAAC,CAAC,OAAO,CAAC,EAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAC,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yDAAyD,EAAE;YAC5D,MAAM,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,CAAC,CAAC,OAAO,CAAC,EAAC,CAAC,EAAE,IAAI,EAAC,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oDAAoD,EAAE;YACvD,MAAM,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,EAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC;YACxE,MAAM,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import {getDependentFields} from '../../../src/compile/data/expressions';\n\ndescribe('compile/data/expressions', () => {\n  describe('getDependentFields', () => {\n    it('calcuates right dependent fields for simple expression', () => {\n      expect(getDependentFields('datum.x + datum.y')).toEqual({x: true, y: true});\n    });\n\n    it('calcuates right dependent fields for compres expression', () => {\n      expect(getDependentFields('toString(datum.x) + 12')).toEqual({x: true});\n    });\n\n    it('calculates right dependent fields for nested field', () => {\n      expect(getDependentFields('datum.x.y')).toEqual({x: true, 'x.y': true});\n      expect(getDependentFields('datum[\"x.y\"]')).toEqual({'x.y': true});\n    });\n  });\n});\n"]}